---
title: Summarizing Data With Tidyverse
format: 
  closeread-html:
    css: styles.css
---

:::{.cr-section}

Let's learn how to summarize data by groups.

Sometimes, data has different dimensions that allow us to group observations. For example, this dataset records the total power generated by each participant in a spin class. The gender and instructor variables both have distinct categories we can use for grouping. @cr-code1

Grouping data by a variable’s dimensions enables us to compare descriptive statistics across different groups. Suppose we want to compare the performance of class participants between Sam and Olivia. We can first group the data by instructor and then calculate the mean power generated to see how their average class efforts differ. @cr-pic

This code calculates the mean power output for each instructor. It works as follows: @cr-code2

First, we define the tibble (*spin*) and specify how to group the data. The `group_by()` function determines which variable to use for grouping. Since there are only two instructors (Sam and Olivia), two groups will be created. *Note: The grouping is done implicitly.* [@cr-code2]{hlz="1"}

Next, we use the `summarise()` function to define how to summarize each group. Inside the function, we assign meaningful names to our output columns and apply corresponding summary functions. For class size, we use the name Size and assign the `n()` to count the number of observations under each instructor (grouping). The Mean column calculates the average *Total_kj* generated in each instructor's class. [@cr-code2]{hlz="2-3"}

The resulting table shows how many participants attended each instructor’s class and their average power output (i.e., effort). Looks like Olivia pushes her 30 students hard! [@cr-code3]

We can now use the summary statistic to help us choose the right instructor. @cr-pic2

:::{#cr-code1}
```{r message=FALSE, echo=FALSE}
library(tidyverse)
spin<-read_csv("https://jagelves.github.io/Data/Spin.csv")
```

```{r echo=FALSE}
slice_sample(spin,n=5)
```
:::

::: {#cr-pic}
![](inst.png){width=100% height=300px fig-align="center"}

:::

:::{#cr-code2}
```{r echo=TRUE, results='hide'}
spin %>% group_by(Instructor) %>% 
summarise(Size=n(),
          MeanPower=mean(Total_kj)
)
```
:::

:::{#cr-code3}
```{r echo=FALSE}
spin %>% group_by(Instructor) %>% 
summarise(Size=n(),
          MeanPower=mean(Total_kj)
)
```
:::

::: {#cr-pic2}
![](inst2.png){width=100% height=300px fig-align="center"}

:::