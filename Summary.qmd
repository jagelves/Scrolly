---
title: Summarizing Data With Tidyverse
format: 
  closeread-html:
    css: styles.css
---

:::{.cr-section}

Let's learn how to summarize data by groups...

Sometimes data has dimensions we can use to group. For example, this data records the total power generated by each participant in a spin class. The gender variable has two dimensions, as well as the instructor one. @cr-code1

The value of grouping the data by dimensions in a variable, is to be able to compare descriptive statistics for the different groups. If, for example we wanted to see how instructors compare. We can first group the data by instructor, and then calculate a mean to see how their averages differ. @cr-pic

This code generates the means, when grouping by each instructor. The code is read as follows: @cr-code2

This line specifies the tibble we will be working with (i.e., *spin*) and how to group the data. The `group_by()` function is used to specify the variable we will use to create our groupings. Since there are only 2 instructors (i.e., Sam and Olivia), only two groups will be created. [@cr-code2]{hlz="1"}

Now we can use the `summarise()` function to specify how we want to summarize the groups. Within the function we will specify a name for the output table and a function to use tied to that name. Hence, for the class size we will use Size and specify to count the number of observations under each instructor. The Mean output will calculate the mean of all of the Total_kj generated by each instructor's class. [@cr-code2]{hlz="2-3"}

The result is a table that tells us what how many people took each instructors class, and the respective average output of their participants (i.e., effort). Seems like Olivia is a tough one!

:::{#cr-code1}
```{r message=FALSE, echo=FALSE}
library(tidyverse)
spin<-read_csv("https://jagelves.github.io/Data/Spin.csv")
```

```{r echo=FALSE}
slice_sample(spin,n=5)
```
:::

::: {#cr-pic}
![](inst.png){width=60% height=300px fig-align="center"}

:::

:::{#cr-code2}
```{r echo=TRUE, results='hide'}
spin %>% group_by(Instructor) %>% 
summarise(Size=n(),
          MeanPower=mean(Total_kj)
)
```
:::

:::{#cr-code3}
```{r echo=FALSE}
spin %>% group_by(Instructor) %>% 
summarise(Size=n(),
          MeanPower=mean(Total_kj)
)
```
:::